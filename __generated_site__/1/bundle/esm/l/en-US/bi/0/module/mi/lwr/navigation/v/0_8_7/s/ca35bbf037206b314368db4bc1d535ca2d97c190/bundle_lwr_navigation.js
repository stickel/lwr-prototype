import{registerDecorators as M}from"/1/bundle/esm/l/en-US/bi/0/module/mi/lwc%2Fv%2F2_32_1/s/cca224ee58702088c152ed897e61efeb2176631e/bundle_lwc.js";function d(t){if(t==null)throw new TypeError("Provider must be defined.")}class v{constructor(e){this.infoMap=new WeakMap,this.defaultValue=e}getInfo(e){let r=this.infoMap.get(e);return r===void 0&&(r={consumers:new Set},this.infoMap.set(e,r)),r}setContext(e,r){d(e);const o=r,n=this.getInfo(e);n.contextValue=r,n.consumers.forEach(s=>s.provide(o)),n.consumers.size===0&&o?.onComplete&&o.onComplete()}getContext(e){d(e);const{contextValue:r}=this.getInfo(e);return r!==void 0?r:this.defaultValue}clearContext(e){d(e),this.infoMap.delete(e)}subscribeContext(e,r){d(e);const{consumers:o,contextValue:n}=this.getInfo(e);o.has(r)||(o.add(r),r.provide(n))}unsubscribeContext(e,r){d(e),this.getInfo(e).consumers.delete(r)}}M(v,{fields:["infoMap"]});function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,o)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b(Object(r),!0).forEach(function(o){y(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function y(t,e,r){return e=x(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x(t){var e=D(t,"string");return typeof e=="symbol"?e:String(e)}function D(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const i="LWR",a={Fatal:0,Error:1,Warning:2,Log:3};function g(t,e){return Array.isArray(e)?t.replace(/\{([0-9]+)\}/g,(r,o)=>e[o]):t}function p(t,e){return`${t.code}: ${g(t.message,e)}`}function _(t,e){const r=w(w({},t),{},{message:g(t.message,e)});return t.address&&(r.address=g(t.address,e)),t.stack&&(r.stack=g(t.stack,e)),r}function P(t,e,r){if(!t)throw new Error(p(e,r))}const l={INVALID_MIXIN_CMP:{code:`${i}4001`,message:"{0} must be an Element type",level:a.Error},MISSING_CONTEXT:{code:`${i}4002`,message:"Could not find context to perform navigation action.",level:a.Error},INVALID_CONTEXT:{code:`${i}4003`,message:"Cannot register navigation context; it must have this shape: { navigate, generateUrl, subscribe }",level:a.Error},MULTIPLE_ROOTS:{code:`${i}4004`,message:"Router connection failed. There can only be one root router.",level:a.Error},MULTIPLE_CHILDREN:{code:`${i}4005`,message:"Could not add to the navigation hierarchy. There can only be one child per navigation node.",level:a.Error},MISSING_ROUTE:{code:`${i}4006`,message:'A route cannot be created to navigate to URL "{0}"',level:a.Error,address:"{0}"},MISSING_URL:{code:`${i}4007`,message:'A URL cannot be created to navigate to route "{0}"',level:a.Error,address:"{0}"},PRENAV_FAILED:{code:`${i}4008`,message:'A preNavigate hook listener blocked routing to "{0}"',level:a.Warning,address:"{0}"},MISSING_ROUTE_TEMPLATE:{code:`${i}4009`,message:'A route definition must contain a "uri" property.',level:a.Error},MISSING_ROUTE_CMP:{code:`${i}4016`,message:"Expected a route view component with a default export.",level:a.Error},MISSING_DATA_CONTEXT:{code:`${i}4018`,message:"Could not find context to retrieve navigation data.",level:a.Error},INVALID_ROUTE_QUERY:{code:`${i}4019`,message:"Invalid query param in route definition.",level:a.Error},MISSING_PAGE_BINDING:{code:`${i}4020`,message:"Route definition must provide page binding",level:a.Error},INVALID_PAGE_BINDING:{code:`${i}4021`,message:"Invalid page binding in route definition",level:a.Error},INVALID_URI_SYNTAX:{code:`${i}4022`,message:"Invalid uri syntax. URI cannot contain *, +, (, ), ",level:a.Error},VIEW_IMPORT_FAILED:{code:`${i}4023`,message:'Error importing view with name "{0}", failure was: {1}',level:a.Error,stack:"{2}"},VIEW_MISSING:{code:`${i}4024`,message:'Expected a view with name "{0}" in the viewset',level:a.Error},VIEW_IMPORT_FAILED_WITH_SPECIFIER:{code:`${i}4025`,message:'Error importing module "{0}" from view with name "{1}", failure was: {2}',level:a.Error,stack:"{3}"},NO_ROUTE_MATCH:{code:`${i}4026`,message:"A routing match cannot be found for: {0}",level:a.Error},INVALID_ROUTE_HANDLER:{code:`${i}4027`,message:'Route definition "{0}" does not have a valid route handler module',level:a.Error},DESTINATION_NOT_FOUND:{code:`${i}4028`,message:"Route handler returned 404: Not Found",level:a.Error},DESTINATION_ERROR:{code:`${i}4029`,message:"Route handler returned error status {0}: {1}",level:a.Error,stack:"{2}"}},O=new WeakMap;function N(t){const e=O.get(t);if(!e||!e.value)throw new Error(p(l.MISSING_CONTEXT));return e.value}function L(t,e){const r={id:t,value:e,update:o=>{r.value=o}};return O.set(r.id,r),r}function m(t){var e;return e=class{constructor(n){this._callback=n}connect(){}disconnect(){}update(n,s){s&&this._callback(s)}static setContext(n,s){t.setContext(n,s)}static getContext(n){return t.getContext(n)}static clearContext(n){t.clearContext(n)}static subscribeContext(n,s){t.subscribeContext(n,s)}static unsubscribeContext(n,s){t.unsubscribeContext(n,s)}},e.contextSchema={value:"required"},e}const $=new v(void 0),U=m($),V=new v(void 0),G=m(V),W=new v(void 0),F=class extends m(W){async update(e,r){if(r){const o=e&&e.viewName?e.viewName:"default",n=r.viewset[o],s=n,C=s&&s.module||n;let E;if(C)try{const f=await C(),c=f&&f.default;if(c&&c.constructor!==void 0)this._callback(c);else throw new Error("error occurred with view import")}catch(f){const c=f;s.specifier?E=_(l.VIEW_IMPORT_FAILED_WITH_SPECIFIER,[s.specifier,o,c.message,c.stack||""]):E=_(l.VIEW_IMPORT_FAILED,[o,c.message,c.stack||""])}else E=_(l.VIEW_MISSING,[o]);r.onComplete&&r.onComplete(E)}}};function T(t,e,r){N(t).navigate(e,r)}function R(t,e){return N(t).generateUrl(e)}function k(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}const X=`universalcontainergetnavigationcontext${k()}`,S=Symbol("Navigate"),A=Symbol("GenerateUrl"),u=Symbol("NavContext"),h=Symbol("NavContext");function I(t){P(typeof t.prototype.dispatchEvent=="function",l.INVALID_MIXIN_CMP,[t.toString()]);class e extends t{[h](){if(!this[u]&&(this.dispatchEvent(new CustomEvent(X,{bubbles:!0,composed:!0,detail:{callback:o=>{this[u]=o}}})),!this[u]))throw new Error(p(l.MISSING_CONTEXT))}[S](o,n){this[h](),T(this[u],o,n)}async[A](o){return this[h](),R(this[u],o)}}return e}I.Navigate=S,I.GenerateUrl=A,I.NavContext=u;export{v as ContextInfo,G as CurrentPageReference,F as CurrentView,U as NavigationContext,I as NavigationMixin,m as generateContextualWireAdapter,R as generateUrl,N as getNavigationHelm,T as navigate,L as registerNavigationHelm};
