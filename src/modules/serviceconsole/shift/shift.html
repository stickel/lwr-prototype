<template>
    <template if:true={hasSegments}>
        <div class="slds-grid slds-grid_vertical shift-item-shift">
            <div class="slds-m-bottom_xx-small slds-p-left_x-small shift-time">
                {shiftTimePeriod}
            </div>

            <div class={shiftClasses}
                onmouseenter={handleMouseOver}
                onmouseleave={handleMouseOut}>
                <!-- Loop through the segments -->
                <template for:each={shift.ShiftSegments} for:item="segment" for:index="index">
                    <serviceconsole-shift-duty
                        class={segmentClasses}
                        key={segment.Id}
                        duty={segment}
                        shift-duration={shift.DurationInMinutes}
                        is-today={isToday}
                        hover-state={isMouseOver}
                        onsizeset={handleSizeSet}>
                    </serviceconsole-shift-duty>
                </template>
                <!-- end loop -->
                <!-- Show the 'now' marker -->
                <div class={nowMarkerClasses}>
                    <span class="now-line"></span>
                    <span class="now-label">Now</span>
                </div>
                <!-- end 'now' marker -->
            </div>
        </div>
    </template>
</template>